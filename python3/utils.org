#+TITLE:     工具命令
#+AUTHOR:    Hao Ruan
#+EMAIL:     haoru@cisco.com
#+LANGUAGE:  en
#+LINK_HOME: http://www.github.com/ruanhao
#+OPTIONS:   h:6 html-postamble:nil html-preamble:t tex:t f:t ^:nil
#+STARTUP:   showall
#+TOC:       headlines 3
#+HTML_DOCTYPE: <!DOCTYPE html>
#+HTML_HEAD: <link href="http://fonts.googleapis.com/css?family=Roboto+Slab:400,700|Inconsolata:400,700" rel="stylesheet" type="text/css" />
#+HTML_HEAD: <link href="../org-html-themes/solarized/style.css" rel="stylesheet" type="text/css" />
 #+HTML: <div class="outline-2" id="meta">
| Author   | {{{author}}} ({{{email}}})    |
| Date     | {{{time(%Y-%m-%d %H:%M:%S)}}} |
#+HTML: </div>


* 虚拟环境

** 几种工具的区别

- virtualenv

  可以针对版本的 Python 生成多个独立的虚拟环境

- pyenv

  用于创建独立的 Python 环境，可以通过 =pyenv install= 来安装具体版本的 Python

- pyenv-virtualenv

  pyenv 作者为 pyenv 写的一个插件，通过该插件可以方便的同时使用 pyenv 和 virtualenv


** pyenv 安装

=brew install pyenv=

开启自动补全：

#+BEGIN_SRC sh
  eval "$(pyenv init -)"
  if which pyenv-virtualenv-init > /dev/null; then eval "$(pyenv virtualenv-init -)"; fi
#+END_SRC


** pyenv 常用命令

- 查看本机安装所有版本信息

  =pyenv versions=


- 查看可安装版本信息

  =pyenv install -l=

- 安装与卸载

  =pyenv install 3.6.0=

  =pyenv uninstall 3.6.0=

- 切换版本

  - 全局方式

    通过将版本号写入 *~/.pyenv/version* 文件。

    =pyenv global 2.7.3=

  - 当前目录方式

    通过将版本号写入当前目录下的 *.python-version* 文件。

    *通过这种方式设置的 Python 版本优先级较 global 高* 。
    pyenv 会从当前目录开始向上逐级查找 *.python-version* 文件，直到根目录为止。若找不到，就用 global 版本。

    =pyenv local 2.7.3=

  - shell 方式

    通过设置当前 shell 的 *PYENV_VERSION* 环境变量。

    *这个版本的优先级比 local 和 global 都要高* 。

    =pyenv shell 2.7.3=

    =pyenv shell --unset=

- 创建垫片路径

  为所有已安装的可执行文件创建 shims，如：~/.pyenv/versions/*/bin/*，因此，
  每当增删了 Python 版本或带有可执行文件的包（如 pip）以后，都应该执行一次本命令:

  =pyenv rehash=

** pyenv-virtualenv 安装

=brew install pyenv-virtualenv=

** pyenv-virtualenv 常用命令

- 创建指定版本的虚拟环境

  =pyenv virtualenv 2.7.10 <name>=

- 基于当前版本创建虚拟环境

  =pyenv virtualenv <name>=

- 列出所有虚拟环境

  =pyenv vitualenvs=

- 激活/去激活虚拟环境

  =pyenv activate <name>=

  =pyenv deactivate=

- 删除虚拟环境

  =pyenv uninstall <name>=
