#+TITLE:     Unicode
#+AUTHOR:    Hao Ruan
#+EMAIL:     ruanhao1116@gmail.com
#+LANGUAGE:  en
#+LINK_HOME: http://www.github.com/ruanhao
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="../css/style.css" />
#+OPTIONS:   H:2 num:nil \n:nil @:t ::t |:t ^:{} _:{} *:t TeX:t LaTeX:t
#+STARTUP:   showall


* 一，基本知识

** 1.1，字符编码工作方式

在计算机内存中，统一使用 Unicode 编码，当需要保存到硬盘或者需要传输的时候，就转换为 UTF-8 编码

Python 的字符串在内存中以 *Unicode* 表示，一个字符对应若干个字节。如果要在网络上传输，或者保存到磁盘上，就需要把字符串变为以字节为单位的 *bytes*

#+BEGIN_EXAMPLE

+---------------------------------------+
|            Memory (Unicode)           |
+-----------+----------------^----------+
            |                |
            |                |
+-----------v----------------+----------+
|            File (UTF-8)               |
+---------------------------------------+

#+END_EXAMPLE


* 二，常见用法

- Code Point 互转

  #+BEGIN_SRC python
    ord('A')                        # 65
    ord('中')                       # 20013
    chr(66)                         # 'B'
    chr(25991)                      # '文'
  #+END_SRC

- 字符编解码

  #+BEGIN_SRC python
    'ABC'.encode('ascii')                        # b'ABC'
    '中文'.encode('utf-8')                       # b'\xe4\xb8\xad\xe6\x96\x87'
    b'ABC'.decode('ascii')                       # 'ABC'
    b'\xe4\xb8\xad\xe6\x96\x87'.decode('utf-8')  # '中文'
  #+END_SRC
