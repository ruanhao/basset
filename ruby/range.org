#+Title: Range
#+OPTIONS: ^:nil


* Flip-flop
#+BEGIN_SRC ruby
file = File.open("file.txt")
while line = file.gets
  puts(line) if line =~ /third/ .. line =~ /fifth/
end
#+END_SRC
#+BEGIN_SRC ruby
## The elements of a range used in a boolean expression can themselves be expressions.
## Following code uses the fact that the variable $. contains the current input line number.
File.foreach("file.txt") do |line|
  if (($. == 1) || line =~ /eight/) .. (($. == 3) || line =~ /nine/)
    puts line
  end
end
#+END_SRC