#+TITLE:     GRE
#+AUTHOR:    Hao Ruan
#+EMAIL:     ruanhao1116@gmail.com
#+LANGUAGE:  en
#+LINK_HOME: http://www.github.com/ruanhao
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="../css/style.css" />
#+OPTIONS:   H:2 num:nil \n:nil @:t ::t |:t ^:{} _:{} *:t TeX:t LaTeX:t
#+STARTUP:   showall

* 1, 基本原理

GRE 隧道的原理就是把两台主机的外网 IP 进行绑定，在两个外网 IP 直接建立一条隧道 tunnel 。
tunnel 对服务器看来，就像一个网口，直连着隧道的另一端。

* 2, 常用命令

** 2.0, 加载 GRE 内核模块

=modprobe ip_gre=

** 2.1, 添加 tunnel 设备

=ip tunnel add <name> mode gre local <local_ip> ttl 255 remote <remote_ip> dev <outbound_if>=

** 2.2, 删除 tunnel 设备

=ip tunnel del <name>=
