#+TITLE:     django
#+AUTHOR:    Hao Ruan
#+EMAIL:     ruanhao1116@gmail.com
#+LANGUAGE:  en
#+LINK_HOME: http://www.github.com/ruanhao
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="../css/style.css" />
#+OPTIONS:   H:2 num:nil \n:nil @:t ::t |:t ^:{} _:{} *:t TeX:t LaTeX:t
#+STARTUP:   showall


* 1，基本知识


* 2，基本操作

** 2.1，创建项目

#+BEGIN_SRC sh
  django-admin.py startproject <prj-name> .
#+END_SRC

** 2.2，创建数据库

#+BEGIN_SRC sh
  python manage.py migrate
#+END_SRC

首次执行命令 migrate  时，将让 Django 确保数据库与项目的当前状态匹配。\
在使用 SQLite 的新项目中首次执行这个命令时，Django 将新建一个数据库。


** 2.3，启动服务

#+BEGIN_SRC sh
  ./manager.py runserver [port]
#+END_SRC

** 2.4，创建应用

#+BEGIN_SRC sh
  ./manage.py startapp <app-name>
#+END_SRC

** 2.5，修改数据库，使其能存储与新定义模型相关联的数据

1. 生成迁移文件

   #+BEGIN_SRC sh
     ./manage.py makemigrations <app-name>
   #+END_SRC

2. 应用迁徙文件

   #+BEGIN_SRC sh
     ./manage.py migrate
   #+END_SRC

** 2.6，创建超级用户

#+BEGIN_SRC sh
  ./manage.py createsuperuser
#+END_SRC

访问管理界面：http://localhost:8000/admin

** 2.7，使用 Django Shell

#+BEGIN_SRC sh
  ./manage.py shell

#+END_SRC
