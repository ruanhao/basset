#+TITLE:     KeyTool
#+AUTHOR:    Hao Ruan
#+EMAIL:     ruanhao1116@gmail.com
#+LANGUAGE:  en
#+LINK_HOME: http://www.github.com/ruanhao
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="../css/style.css" />
#+OPTIONS:   H:2 num:nil \n:nil @:t ::t |:t ^:{} _:{} *:t TeX:t LaTeX:t
#+STARTUP:   showall


* 配置服务器端证书

** 建立密钥库

keytool -genkey -alias server -keyalg RSA -keystore server.keystore -validity 3650

** 导出证书

keytool -export -alias server -keystore server.keystore -file server.cer


* 配置客户端证书

** 生成客户端密钥库

keytool -genkey -alias client -keyalg RSA -storetype PKCS12 -keystore client.key.p12

** 导出证书

keytool -export -keystore client.key.p12 -storetype PKCS12 -alias client -file client.key.cer

** 将客户端证书导入服务器密钥库信任链

keytool -import -file client.key.cer -keystore server.keystore
